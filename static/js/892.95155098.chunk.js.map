{"version":3,"file":"static/js/892.95155098.chunk.js","mappings":"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","sources":["pages/Detail.js"],"sourcesContent":["import { useParams } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { useContext, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport \"../App.css\";\r\nimport { Nav } from \"react-bootstrap\";\r\nimport { Context1 } from \"./../App\";\r\nimport { order } from \"./../store\";\r\nimport App from \"../App\";\r\n\r\n//css까지 안가도 js에서 스타일 적용\r\n//스타일이 다른 js파일로 오염되지 않음. - App.modules.css로 사용하면 오염 x (모듈화)\r\n//페이지 로딩시간 단축(css파일 로딩 X)\r\n\r\nlet YellowBtn = styled.button`\r\n  background: ${(props) => props.bg};\r\n  color: ${(props) => (props.bg == \"blue\" ? \"white\" : \"black\")};\r\n  padding: 10px;\r\n`;\r\n\r\nlet Box = styled.div`\r\n  background: grey;\r\n  padding: 20px;\r\n`;\r\n\r\nexport default function Detail(props) {\r\n  //보관함 해체\r\n  let { 재고, shoes } = useContext(Context1);\r\n  let { id } = useParams();\r\n  let [count, setCount] = useState(0);\r\n  let 찾은상품 = props.shoes.find((x) => x.id == id);\r\n  let [할인, set할인] = useState(true);\r\n  let [경고, 경고변경] = useState(false);\r\n  let [num, setNum] = useState(0);\r\n  let numeric = /^[0-9]+$/;\r\n  let [tab, setTab] = useState(0);\r\n  let [fade, setFade] = useState(\"\");\r\n\r\n  let cart = useSelector((state) => state.cart);\r\n  let state = useSelector((state) => state);\r\n  let dispatch = useDispatch(); //store.js로 요청 보내주는 함수\r\n\r\n  useEffect(() => {\r\n    //mount, update시 코드 실행\r\n    //HTML 랜더링이 다 되고나서 실행.\r\n    //어려운 연산. 서버에서 데이터 가져오는 작업. 타이머 장착\r\n    //side effect 코드 보관함.\r\n\r\n    let a = setTimeout(() => {\r\n      setFade(\"end\");\r\n    }, 10);\r\n\r\n    //2초 후에 실행됨\r\n    let timer = setTimeout(() => {\r\n      set할인(false);\r\n    }, 2000);\r\n\r\n    let 최근본상품 = JSON.parse(localStorage.getItem(\"watched\"));\r\n    //console.log(최근본상품);\r\n    최근본상품.push(id);\r\n    const set = new Set(최근본상품);\r\n    console.log(최근본상품);\r\n    localStorage.setItem(\"watched\", JSON.stringify(Array.from(set)));\r\n\r\n    return () => {\r\n      //기존 타이머는 제거해주세요. cleanup function 기존 코드 치우는 거 작성.\r\n      clearTimeout(timer); //타이머 제거해주는 함수.\r\n      clearTimeout(a); //타이머 제거해주는 함수.\r\n    }; //useEffect동작 전에 실행되는 return()=>{}\r\n  }, []); //count라는 state가 변할 때만 실행됨 - []는 해당 컴포넌트가 mount될 때 1회, 아무것도 없을 때는 mount, update될 때\r\n\r\n  useEffect(() => {\r\n    if (isNaN(num) == true) {\r\n      alert(\"그러지 마세요\");\r\n    }\r\n  }, [num]);\r\n\r\n  return (\r\n    <div className={`container start ${fade} `}>\r\n      <button\r\n        onClick={() => {\r\n          setCount(count + 1);\r\n        }}\r\n      >\r\n        버튼\r\n      </button>\r\n      {count}\r\n      <YellowBtn bg=\"blue\">버튼</YellowBtn>\r\n      <YellowBtn bg=\"orange\">버튼</YellowBtn>\r\n\r\n      {할인 == true ? (\r\n        <div className=\"alert alert-warning\">2초 이내 구매시 할인</div>\r\n      ) : null}\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6\">\r\n          <img\r\n            src={\r\n              \"https://codingapple1.github.io/shop/shoes\" +\r\n              (parseInt(id) + parseInt(1)) +\r\n              \".jpg\"\r\n            }\r\n            width=\"100%\"\r\n          />\r\n        </div>\r\n        {경고 == true ? (\r\n          <div className=\"alert alert-danger\">그러지 마세요!!</div>\r\n        ) : null}\r\n\r\n        {/* <input\r\n          onChange={(e) => {\r\n            setNum(e.target.value);\r\n          }}\r\n        /> */}\r\n\r\n        <input\r\n          onChange={(e) => {\r\n            let input = e.target.value;\r\n            if (!numeric.test(input) && input) {\r\n              console.log(\"숫자 아님!\");\r\n              경고변경(true);\r\n            } else {\r\n              경고변경(false);\r\n            }\r\n          }}\r\n        />\r\n        <div className=\"col-md-6\">\r\n          <h4 className=\"pt-5\">{찾은상품.name}</h4>\r\n          <p>{props.shoes[id].content}</p>\r\n          <p>{props.shoes[id].price}</p>\r\n          <button\r\n            className=\"btn btn-danger\"\r\n            onClick={() => {\r\n              //console.log(\"찾은 상품\" + JSON.stringify({ 찾은상품 }));\r\n              //dispatch(order({ 찾은상품 }.찾은상품));\r\n              dispatch(order({ id: id, name: props.shoes[id].name, count: 1 }));\r\n              console.log(state.cart);\r\n            }}\r\n          >\r\n            주문하기\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {재고}\r\n      <Nav variant=\"tabs\" defaultActiveKey=\"link1\">\r\n        <Nav.Item>\r\n          <Nav.Link\r\n            onClick={() => {\r\n              setTab(0);\r\n            }}\r\n            eventKey=\"link0\"\r\n          >\r\n            버튼0\r\n          </Nav.Link>\r\n        </Nav.Item>\r\n        <Nav.Item>\r\n          <Nav.Link\r\n            onClick={() => {\r\n              setTab(1);\r\n            }}\r\n            eventKey=\"link1\"\r\n          >\r\n            버튼1\r\n          </Nav.Link>\r\n        </Nav.Item>\r\n        <Nav.Item>\r\n          <Nav.Link\r\n            onClick={() => {\r\n              setTab(2);\r\n            }}\r\n            eventKey=\"link2\"\r\n          >\r\n            버튼2\r\n          </Nav.Link>\r\n        </Nav.Item>\r\n      </Nav>\r\n      <TabContent tab={tab} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction TabContent({ tab }) {\r\n  let [fade, setFade] = useState(\"\");\r\n  let { 재고, shoes } = useContext(Context1);\r\n  useEffect(() => {\r\n    //end를 부착해주세요\r\n    //fade state를 end로 바꿔주세요\r\n    let a = setTimeout(() => {\r\n      setFade(\"end\");\r\n    }, 10);\r\n\r\n    return () => {\r\n      clearTimeout(a);\r\n      setFade(\"\");\r\n    };\r\n\r\n    //state 변경 함수 근처 꺼를 한 번에 실행함. - automatic batching\r\n  }, [tab]); // 탭이라는 게 변할 때마다 안의 코드 실행함\r\n\r\n  return (\r\n    <div className={`start ${fade}`}>\r\n      {[<div>{재고}</div>, <div>내용1</div>, <div>내용2</div>][tab]}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["YellowBtn","styled","props","bg","Detail","useContext","Context1","재고","id","shoes","useParams","useState","count","setCount","찾은상품","find","x","할인","set할인","경고","경고변경","num","numeric","tab","setTab","fade","setFade","state","useSelector","cart","dispatch","useDispatch","useEffect","a","setTimeout","timer","최근본상품","JSON","parse","localStorage","getItem","push","set","Set","console","log","setItem","stringify","Array","from","clearTimeout","isNaN","alert","className","onClick","src","parseInt","width","onChange","e","input","target","value","test","name","content","price","order","variant","defaultActiveKey","eventKey","TabContent"],"sourceRoot":""}